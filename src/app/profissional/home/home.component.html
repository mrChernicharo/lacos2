<div *ngIf="currentPage$ | async as currentPage" class="page-container">
  <div *ngIf="currentPage === 'profissional'">
    <h1>Home</h1>
    <ng-container *ngIf="authService.user$ | async as user">
      <ng-container *ngIf="consultas$ | async as consultas">
        <ng-container *ngIf="userClientes$ | async as clientes">
          <!--  -->
          <div class="clientes-container">
            <div><h3>Pacientes</h3></div>
            <div *ngFor="let cliente of clientes">
              <app-cliente-card
                [cliente]="cliente"
                [allConsultas]="consultas"
              ></app-cliente-card>
            </div>
          </div>

          <div><h3>Consultas</h3></div>
          <pre *ngFor="let consulta of consultas"
            >{{ consulta.nomePaciente }} {{ consulta.horario }} {{
              consulta.dataConsulta["seconds"] | date: "shortDate"
            }}</pre
          >

          <nb-card>
            <nb-card-header>
              <h3>Relatórios</h3>
              <h1 *ngIf="date; else placeholder" class="h5">
                {{ date | date: "longDate" }}
              </h1>
              <ng-template #placeholder>&nbsp;</ng-template>
            </nb-card-header>
            <nb-card-body>
              <nb-calendar
                class="custom-calendar"
                [dayCellComponent]="dayCellComponent"
                [(date)]="date"
                size="large"
              >
              </nb-calendar>
            </nb-card-body>
          </nb-card>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>

  <ng-container *ngIf="currentPage === 'novo relatorio'">
    <ng-container *ngIf="authService.user$ | async as user">
      <ng-container *ngIf="appClientes$ | async">
        <!-- <p>{{ user.nome }}</p> -->
        <app-novo-relatorio
          [clientes]="appClientes"
          [user]="user"
          [userConsultas]="consultas"
        ></app-novo-relatorio>
      </ng-container>
    </ng-container>
  </ng-container>
</div>

<!-- <ng-container *ngIf="appData$ | async as data">
  <p>datas</p>
  <p>relatórios</p>
  <p>pacientes</p>
  <p>consultas</p>
</ng-container> -->
